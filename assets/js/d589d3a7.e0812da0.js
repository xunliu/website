"use strict";(self.webpackChunkdatastrato_next=self.webpackChunkdatastrato_next||[]).push([[7162],{96915:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=t(97458),o=t(37627);const i={title:"Getting started with Gravitino",slug:"/getting-started",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."},l=void 0,s={id:"getting-started",title:"Getting started with Gravitino",description:"There are several options for getting started with Gravitino. Installing and configuring Hive and Trino can be a little complex, so if you are unfamiliar with the technologies it would be best to use Docker.",source:"@site/docs/getting-started.md",sourceDirName:".",slug:"/getting-started",permalink:"/docs/next/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/datastrato/datastrato.com/edit/master/docs/getting-started.md",tags:[],version:"current",frontMatter:{title:"Getting started with Gravitino",slug:"/getting-started",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/next/overview"},next:{title:"How to use the playground",permalink:"/docs/next/how-to-use-the-playground"}},r={},c=[{value:"Getting started on Amazon Web Services",id:"getting-started-on-amazon-web-services",level:2},{value:"Getting started on Google Cloud Platform",id:"getting-started-on-google-cloud-platform",level:2},{value:"Getting started locally",id:"getting-started-locally",level:2},{value:"Installing Apache Hive on AWS or Google Cloud Platform",id:"installing-apache-hive-on-aws-or-google-cloud-platform",level:2},{value:"Installing Apache Hive locally",id:"installing-apache-hive-locally",level:2},{value:"Installing Gravitino playground on AWS or Google Cloud Platform",id:"installing-gravitino-playground-on-aws-or-google-cloud-platform",level:2},{value:"Installing Gravitino playground locally",id:"installing-gravitino-playground-locally",level:2},{value:"Using REST to interact with Gravitino",id:"using-rest-to-interact-with-gravitino",level:2},{value:"Accessing Gravitino on AWS externally",id:"accessing-gravitino-on-aws-externally",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"There are several options for getting started with Gravitino. Installing and configuring Hive and Trino can be a little complex, so if you are unfamiliar with the technologies it would be best to use Docker."}),"\n",(0,a.jsxs)(n.p,{children:["If you want to download and install Gravitino, on AWS see ",(0,a.jsx)(n.a,{href:"#getting-started-on-amazon-web-services",children:"Getting started on Amazon Web Services"}),"\nor Google Cloud Platform see ",(0,a.jsx)(n.a,{href:"#getting-started-on-google-cloud-platform",children:"Getting started on Google Cloud Platform"}),"\nor locally see ",(0,a.jsx)(n.a,{href:"#getting-started-locally",children:"Getting started locally"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If you have your own Gravitino setup and want to use Apache Hive on AWS or Google\nCloud Platform see ",(0,a.jsx)(n.a,{href:"#installing-apache-hive-on-aws-or-google-cloud-platform",children:"Installing Apache Hive on AWS or Google Cloud Platform"})," or locally see\n",(0,a.jsx)(n.a,{href:"#installing-apache-hive-locally",children:"Installing Apache Hive locally"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If you prefer to get started quickly and use Docker for Gravitino, Apache Hive, Trino, and others on\nAWS or Google Cloud Platform see ",(0,a.jsx)(n.a,{href:"#installing-gravitino-playground-on-aws-or-google-cloud-platform",children:"Installing Gravitino playground on AWS or Google Cloud Platform"})," or locally see\nor locally see ",(0,a.jsx)(n.a,{href:"#installing-gravitino-playground-locally",children:"Installing Gravitino playground locally"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["If you are using AWS and want to access the instance remotely, be sure to read ",(0,a.jsx)(n.a,{href:"#accessing-gravitino-on-aws-externally",children:"Accessing Gravitino on AWS externally"})]}),"\n",(0,a.jsx)(n.h2,{id:"getting-started-on-amazon-web-services",children:"Getting started on Amazon Web Services"}),"\n",(0,a.jsx)(n.p,{children:"To begin using Gravitino on AWS, follow these steps:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In the AWS console, launch a new instance. Select ",(0,a.jsx)(n.code,{children:"Ubuntu"})," as the operating system and ",(0,a.jsx)(n.code,{children:"t2.xlarge"})," as the instance type. Create a key pair named ",(0,a.jsx)(n.em,{children:"Gravitino.pem"})," for SSH access and download it. Allow HTTP and HTTPS traffic, if you want to connect to the instance remotely. Set the Elastic Block Store storage to 20GiB. Leave all other settings as their defaults. Other operating systems and instance types may work, but they have yet to be fully tested."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the instance and connect to it via SSH using the downloaded .pem file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"ssh ubuntu@<IP_address> -i ~/Downloads/Gravitino.pem\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Note you may need to adjust the permissions on your .pem file using ",(0,a.jsx)(n.code,{children:"chmod 400"})," to enable SSH connections."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Update the Ubuntu OS to ensure it's up-to-date:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,a.jsx)(n.p,{children:"You may need to reboot the instance for all changes to take effect."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install the required Java Development Kit for Gravitino:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo apt install openjdk-8-jdk-headless\n"})}),"\n",(0,a.jsx)(n.p,{children:"Verify the Java version with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"java -version\n"})}),"\n",(0,a.jsx)(n.p,{children:"You should see information about OpenJDK 8."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install Gravitino on the instance:"}),"\n",(0,a.jsxs)(n.p,{children:["You can install Gravitino from the binary release package or Docker image, please follow the\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n",(0,a.jsxs)(n.p,{children:["Or, you can install Gravitino from scratch, please follow the documentation of\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-build",children:"how-to-build"})," and ",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start Gravitino using the gravitino.sh script:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"<path-to-gravitino>/bin/gravitino.sh start\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"getting-started-on-google-cloud-platform",children:"Getting started on Google Cloud Platform"}),"\n",(0,a.jsx)(n.p,{children:"To begin using Gravitino on GCP, follow these steps:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["In the Google Cloud console, launch a new instance. Select ",(0,a.jsx)(n.code,{children:"e2-standard-4"})," as the instance type and 20 GB for the boot disk size. Allow HTTP and HTTPS traffic, if you want to connect to the instance remotely. Leave all other settings as their defaults. Other operating systems and instance types may work, but they have yet to be fully tested."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start the instance and connect to it via the SSH-in-browser tool."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Update the Debian OS to ensure it's up-to-date:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,a.jsx)(n.p,{children:"You may need to reboot the instance for all changes to take effect."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install the required Java Development Kit for Gravitino:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'wget -O - https://apt.corretto.aws/corretto.key | sudo gpg --dearmor -o /usr/share/keyrings/corretto-keyring.gpg && echo "deb [signed-by=/usr/share/keyrings/corretto-keyring.gpg] https://apt.corretto.aws stable main" | sudo tee /etc/apt/sources.list.d/corretto.list\nsudo apt-get update\nsudo apt-get install -y java-1.8.0-amazon-corretto-jdk\n'})}),"\n",(0,a.jsx)(n.p,{children:"Verify the Java version with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"java -version\n"})}),"\n",(0,a.jsx)(n.p,{children:"You should see information about OpenJDK 8."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install Gravitino on the instance:"}),"\n",(0,a.jsxs)(n.p,{children:["You can install Gravitino from the binary release package or Docker image, please follow the\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n",(0,a.jsxs)(n.p,{children:["Or, you can install Gravitino from scratch, please follow the documentation of\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-build",children:"how-to-build"})," and ",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start Gravitino using the gravitino.sh script:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"<path-to-gravitino>/bin/gravitino.sh start\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"getting-started-locally",children:"Getting started locally"}),"\n",(0,a.jsx)(n.p,{children:"To use Gravitino locally on macOS or Linux, follow similar steps:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Install the required Java Development Kit using ",(0,a.jsx)(n.a,{href:"https://sdkman.io/",children:"sdkman"})," for example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sdk install java 8.0.392-amzn\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can also use different package managers to install JDK, for example,\n",(0,a.jsx)(n.a,{href:"https://brew.sh/",children:"Homebrew"})," on macOS, ",(0,a.jsx)(n.code,{children:"apt"})," on Ubuntu/Debian, ",(0,a.jsx)(n.code,{children:"yum"})," on CentOS/RedHat, etc."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install Gravitino:"}),"\n",(0,a.jsxs)(n.p,{children:["You can install Gravitino from the binary release package or Docker image, please follow the\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n",(0,a.jsxs)(n.p,{children:["Or, you can install Gravitino from scratch, please follow the documentation of\n",(0,a.jsx)(n.a,{href:"/docs/next/how-to-build",children:"how-to-build"})," and ",(0,a.jsx)(n.a,{href:"/docs/next/how-to-install",children:"how-to-install"})," to install Gravitino."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Start Gravitino using the gravitino.sh script:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"<path-to-gravitino>/bin/gravitino.sh start\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installing-apache-hive-on-aws-or-google-cloud-platform",children:"Installing Apache Hive on AWS or Google Cloud Platform"}),"\n",(0,a.jsx)(n.p,{children:"If you already have Apache Hive, Apache Hadoop in your environment, you can ignore this section\nand use them with Gravitino."}),"\n",(0,a.jsxs)(n.p,{children:["You can install Apache Hive and Hadoop on AWS or Google Cloud Platform manually, please follow\nthe steps of how to install ",(0,a.jsx)(n.a,{href:"https://cwiki.apache.org/confluence/display/Hive/",children:"Apache Hive"})," and\n",(0,a.jsx)(n.a,{href:"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html",children:"Hadoop"})," instructions on their websites."]}),"\n",(0,a.jsx)(n.p,{children:"Installing and configuring Hive can be a little complex. If you don't already have Hive setup and running you can use the Docker container Datastrato provide to get Gravitino up and running."}),"\n",(0,a.jsxs)(n.p,{children:["You can follow the instructions for setting up ",(0,a.jsx)(n.a,{href:"https://docs.docker.com/engine/install/ubuntu/",children:"Docker on Ubuntu"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo docker run --name gravitino-container -d -p 9000:9000 -p 8088:8088 -p 50010:50010 -p 50070:50070 -p 50075:50075 -p 10000:10000 -p 10002:10002 -p 8888:8888 -p 9083:9083 -p 8022:22 datastrato/hive:2.7.3-no-yarn\n"})}),"\n",(0,a.jsx)(n.p,{children:"Once installed, you can start the container with the command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo docker start gravitino-container\n"})}),"\n",(0,a.jsx)(n.h2,{id:"installing-apache-hive-locally",children:"Installing Apache Hive locally"}),"\n",(0,a.jsxs)(n.p,{children:["The same steps apply for installing Hive locally as on AWS or Google Cloud Platform. You can\nfollow the instructions for ",(0,a.jsx)(n.a,{href:"#installing-apache-hive-on-aws-or-google-cloud-platform",children:"Installing Apache Hive on AWS or Google Cloud Platform"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"installing-gravitino-playground-on-aws-or-google-cloud-platform",children:"Installing Gravitino playground on AWS or Google Cloud Platform"}),"\n",(0,a.jsx)(n.p,{children:"Gravitino provides a bundle of Docker images to launch a Gravitino playground, which\nincludes Apache Hive, Apache Hadoop, Trino, MySQL, PostgreSQL, and Gravitino. You can use\nDocker compose to start them all."}),"\n",(0,a.jsx)(n.p,{children:"Installing Docker and Docker Compose is a requirement to using the playground."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"sudo apt install docker docker-compose\nsudo gpasswd -a $USER docker\nnewgrp docker\n"})}),"\n",(0,a.jsxs)(n.p,{children:["You can install and run all the programs as Docker containers by using the\n",(0,a.jsx)(n.a,{href:"https://github.com/datastrato/gravitino-playground",children:"gravitino-playground"}),". For the details of\nhow to run the playground, please see ",(0,a.jsx)(n.a,{href:"/docs/next/how-to-use-the-playground",children:"how-to-use-the-playground"})]}),"\n",(0,a.jsx)(n.h2,{id:"installing-gravitino-playground-locally",children:"Installing Gravitino playground locally"}),"\n",(0,a.jsxs)(n.p,{children:["The same steps apply for installing the playground locally as on AWS or Google Cloud Platform. You\ncan follow the instructions for ",(0,a.jsx)(n.a,{href:"#installing-gravitino-playground-on-aws-or-google-cloud-platform",children:"Installing Gravitino playground on AWS or Google Cloud Platform"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"using-rest-to-interact-with-gravitino",children:"Using REST to interact with Gravitino"}),"\n",(0,a.jsx)(n.p,{children:"After starting the Gravitino distribution, issue REST commands to create and modify metadata. While you are using localhost in these examples, run these commands remotely via a host name or IP address once you establish correct access."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Create a Metalake"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\n-d \'{"name":"metalake","comment":"Test metalake"}\' http://localhost:8090/api/metalakes\n'})}),"\n",(0,a.jsx)(n.p,{children:"Verify the MetaLakes creation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\nhttp://localhost:8090/api/metalakes\n\ncurl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\nhttp://localhost:8090/api/metalakes/metalake\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Note that if you request a Metalake that doesn't exist you get an ",(0,a.jsx)(n.em,{children:"NoSuchMetalakeException"})," error."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\nhttp://localhost:8090/api/metalakes/none\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Create a catalog in Hive"}),"\n",(0,a.jsx)(n.p,{children:"First, list the current catalogs to show that no catalogs exist."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\nhttp://localhost:8090/api/metalakes/metalake/catalogs\n'})}),"\n",(0,a.jsx)(n.p,{children:"Create a new Hive catalog."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X POST -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\n-d \'{"name":"test","comment":"Test catalog", "type":"RELATIONAL", "provider":"hive", "properties":{"metastore.uris":"thrift://localhost:9083"}}\' \\\nhttp://localhost:8090/api/metalakes/metalake/catalogs\n'})}),"\n",(0,a.jsx)(n.p,{children:"Verify the creation of the catalog."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:'curl -X GET -H "Accept: application/vnd.gravitino.v1+json" \\\n-H "Content-Type: application/json" \\\nhttp://localhost:8090/api/metalakes/metalake/catalogs\n'})}),"\n",(0,a.jsx)(n.p,{children:"Note that the metastore.uris used for the Hive catalog and would need updating if you change your configuration."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"accessing-gravitino-on-aws-externally",children:"Accessing Gravitino on AWS externally"}),"\n",(0,a.jsx)(n.p,{children:"When deploying Gravitino on AWS, accessing it externally requires some additional configuration due to how AWS networking works."}),"\n",(0,a.jsx)(n.p,{children:"AWS assigns your instance a public IP address, but Gravitino can't bind to that address. To resolve this, you must find the internal IP address assigned to your AWS instance. You can locate the private IP address in the AWS console, or by running the following command:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"ip a\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Once you have identified the internal address, edit the Gravitino configuration to bind to that\naddress. Open the file ",(0,a.jsx)(n.code,{children:"<path-to-gravitino>/conf/gravitino.conf"})," and modify the ",(0,a.jsx)(n.code,{children:"gravitino.server. webserver.host"})," parameter from ",(0,a.jsx)(n.code,{children:"127.0.0.1"})," to your AWS instance's private IP4 address, or you can use '0.0.0.0'. '0.0.0.0' in this context means the host's IP address. Restart the Gravitino server for the change to take effect."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"<path-to-gravitino>/bin/gravitino.sh restart\n"})}),"\n",(0,a.jsx)(n.p,{children:"You'll also need to open port 8090 in the security group of your AWS instance to access Gravitino. To access Hive you need to open port 10000 in the security group."}),"\n",(0,a.jsx)(n.p,{children:"After completing these steps, you should be able to access the Gravitino REST interface from either the command line or a web browser on your local computer. You can also connect to Hive via DBeaver or any other database IDE."})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},37627:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>l});var a=t(52983);const o={},i=a.createContext(o);function l(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);