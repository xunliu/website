"use strict";(self.webpackChunkdatastrato_next=self.webpackChunkdatastrato_next||[]).push([[7309],{51147:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>d,toc:()=>t});var r=n(97458),s=n(37627);const c={title:"Docker image details",slug:"/docker-image-details",keyword:"docker",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."},o="User Docker images",d={id:"docker-image-details",title:"Docker image details",description:"There are 2 kinds of docker images for user Docker images: the Gravitino Docker image and playground Docker images.",source:"@site/docs/docker-image-details.md",sourceDirName:".",slug:"/docker-image-details",permalink:"/docs/next/docker-image-details",draft:!1,unlisted:!1,editUrl:"https://github.com/datastrato/datastrato.com/edit/master/docs/docker-image-details.md",tags:[],version:"current",frontMatter:{title:"Docker image details",slug:"/docker-image-details",keyword:"docker",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."}},l={},t=[{value:"Gravitino Docker image",id:"gravitino-docker-image",level:2},{value:"Playground Docker image",id:"playground-docker-image",level:2},{value:"Hive image",id:"hive-image",level:3},{value:"Trino image",id:"trino-image",level:3},{value:"Gravitino CI Apache Hive image",id:"gravitino-ci-apache-hive-image",level:2},{value:"Gravitino CI Trino image",id:"gravitino-ci-trino-image",level:2}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"user-docker-images",children:"User Docker images"}),"\n",(0,r.jsx)(i.p,{children:"There are 2 kinds of docker images for user Docker images: the Gravitino Docker image and playground Docker images."}),"\n",(0,r.jsx)(i.h2,{id:"gravitino-docker-image",children:"Gravitino Docker image"}),"\n",(0,r.jsx)(i.p,{children:"You can deploy the service with Gravitino Docker image."}),"\n",(0,r.jsx)(i.p,{children:"Container startup commands"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-shell",children:"docker run --rm -d -p 8090:8090 datastrato/gravitino\n"})}),"\n",(0,r.jsx)(i.p,{children:"Changelog"}),"\n",(0,r.jsx)(i.p,{children:"gravitino:0.3.0"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docker image ",(0,r.jsx)(i.code,{children:"datastrato/gravitino:0.3.0"})]}),"\n",(0,r.jsx)(i.li,{children:"Gravitino Server"}),"\n",(0,r.jsxs)(i.li,{children:["Expose ports:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"8090"})," Gravitino web UI"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"9001"})," Iceberg REST service"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"playground-docker-image",children:"Playground Docker image"}),"\n",(0,r.jsxs)(i.p,{children:["You can use the ",(0,r.jsx)(i.a,{href:"https://github.com/datastrato/gravitino-playground",children:"playground"})," to experience the whole Gravitino system with other components."]}),"\n",(0,r.jsx)(i.p,{children:"The playground consists of multiple Docker images."}),"\n",(0,r.jsx)(i.p,{children:"The Docker images of playground have suitable configurations for users to experience."}),"\n",(0,r.jsx)(i.h3,{id:"hive-image",children:"Hive image"}),"\n",(0,r.jsx)(i.p,{children:"Changelog"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["hive:2.7.3-no-yarn","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docker image ",(0,r.jsx)(i.code,{children:"datastrato/hive:2.7.3-no-yarn"})]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"hadoop-2.7.3"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"hive-2.3.9"})}),"\n",(0,r.jsx)(i.li,{children:"Don't start YARN when container startup"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h3,{id:"trino-image",children:"Trino image"}),"\n",(0,r.jsx)(i.p,{children:"Changelog"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["trino:426-gravitino-0.3.0","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docker image ",(0,r.jsx)(i.code,{children:"datastrato/trino:426-gravitino-0.3.0"})]}),"\n",(0,r.jsxs)(i.li,{children:["Base on ",(0,r.jsx)(i.code,{children:"trino:462"})]}),"\n",(0,r.jsxs)(i.li,{children:["Added Gravitino trino-connector-0.3.0 libraries into the ",(0,r.jsx)(i.code,{children:"/usr/lib/trino/plugin/gravitino"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h1,{id:"developer-docker-images",children:"Developer Docker images"}),"\n",(0,r.jsx)(i.p,{children:"You can use these kinds of the Docker images to facilitate Gravitino integration testing.\nYou can use it to test all catalog and connector modules within Gravitino."}),"\n",(0,r.jsx)(i.h2,{id:"gravitino-ci-apache-hive-image",children:"Gravitino CI Apache Hive image"}),"\n",(0,r.jsx)(i.p,{children:"You can use this kind of images to test the catalog of Apache Hive."}),"\n",(0,r.jsx)(i.p,{children:"Changelog"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.6"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsx)(i.li,{children:"No start YARN when container startup"}),"\n",(0,r.jsxs)(i.li,{children:["Removed expose ports:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"22"})," SSH"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"8088"})," YARN Service"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.5"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Rollback ",(0,r.jsx)(i.code,{children:"Map container hostname to 127.0.0.1 before starting Hadoop"})," of ",(0,r.jsx)(i.code,{children:"datastrato/gravitino-ci-hive:0.1.4"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.4"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Configure HDFS DataNode data transfer address to be ",(0,r.jsx)(i.code,{children:"0.0.0.0:50010"})]}),"\n",(0,r.jsxs)(i.li,{children:["Map the container hostname to ",(0,r.jsx)(i.code,{children:"127.0.0.1"})," before starting Hadoop"]}),"\n",(0,r.jsxs)(i.li,{children:["Expose ",(0,r.jsx)(i.code,{children:"50010"})," port for the HDFS DataNode"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.3"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Change MySQL bind-address from ",(0,r.jsx)(i.code,{children:"127.0.0.1"})," to ",(0,r.jsx)(i.code,{children:"0.0.0.0"})]}),"\n",(0,r.jsxs)(i.li,{children:["Add ",(0,r.jsx)(i.code,{children:"iceberg"})," to MySQL users with password ",(0,r.jsx)(i.code,{children:"iceberg"})]}),"\n",(0,r.jsxs)(i.li,{children:["Export ",(0,r.jsx)(i.code,{children:"3306"})," port for MySQL"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.2"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Based on ",(0,r.jsx)(i.code,{children:"datastrato/gravitino-ci-hive:0.1.1"})]}),"\n",(0,r.jsxs)(i.li,{children:["Modify ",(0,r.jsx)(i.code,{children:"fs.defaultFS"})," from ",(0,r.jsx)(i.code,{children:"local"})," to ",(0,r.jsx)(i.code,{children:"0.0.0.0"})," in the ",(0,r.jsx)(i.code,{children:"core-site.xml"})," file."]}),"\n",(0,r.jsxs)(i.li,{children:["Expose ",(0,r.jsx)(i.code,{children:"9000"})," port in the ",(0,r.jsx)(i.code,{children:"Dockerfile"})," file."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.1"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Based on ",(0,r.jsx)(i.code,{children:"datastrato/gravitino-ci-hive:0.1.0"})]}),"\n",(0,r.jsxs)(i.li,{children:["Modify HDFS/YARN/HIVE ",(0,r.jsx)(i.code,{children:"MaxPermSize"})," from ",(0,r.jsx)(i.code,{children:"8GB"})," to ",(0,r.jsx)(i.code,{children:"128MB"})]}),"\n",(0,r.jsxs)(i.li,{children:["Modify ",(0,r.jsx)(i.code,{children:"HADOOP_HEAPSIZE"})," from ",(0,r.jsx)(i.code,{children:"8192"})," to ",(0,r.jsx)(i.code,{children:"128"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-hive:0.1.0"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docker image ",(0,r.jsx)(i.code,{children:"datastrato/gravitino-ci-hive:0.1.0"})]}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"hadoop-2.7.3"})}),"\n",(0,r.jsx)(i.li,{children:(0,r.jsx)(i.code,{children:"hive-2.3.9"})}),"\n",(0,r.jsxs)(i.li,{children:["Expose ports:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"22"})," SSH"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"9000"})," HDFS defaultFS"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"50070"})," HDFS NameNode"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"50075"})," HDFS DataNode HTTP server"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"50010"})," HDFS DataNode data transfer"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"8088"})," YARN Service"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"9083"})," Hive metastore"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"10000"})," HiveServer2"]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"10002"})," HiveServer2 HTTP"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.h2,{id:"gravitino-ci-trino-image",children:"Gravitino CI Trino image"}),"\n",(0,r.jsx)(i.p,{children:"You can use this image to test Trino."}),"\n",(0,r.jsx)(i.p,{children:"Changelog"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-trino:0.1.2"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Copy JDBC driver 'mysql-connector-java' and 'postgres' to ",(0,r.jsx)(i.code,{children:"/usr/lib/trino/iceberg/"})," folder"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsx)(i.p,{children:"gravitino-ci-trino:0.1.0"}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:["Docker image ",(0,r.jsx)(i.code,{children:"datastrato/gravitino-ci-trino:0.1.0"})]}),"\n",(0,r.jsxs)(i.li,{children:["Based on ",(0,r.jsx)(i.code,{children:"trinodb/trino:426"})," and removed some unused plugins from it."]}),"\n",(0,r.jsxs)(i.li,{children:["Expose ports:","\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.code,{children:"8080"})," Trino JDBC port"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},37627:(e,i,n)=>{n.d(i,{Z:()=>d,a:()=>o});var r=n(52983);const s={},c=r.createContext(s);function o(e){const i=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(c.Provider,{value:i},e.children)}}}]);