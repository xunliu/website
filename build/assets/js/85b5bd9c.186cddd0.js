"use strict";(self.webpackChunkdatastrato_next=self.webpackChunkdatastrato_next||[]).push([[9904],{86780:(i,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var o=n(97458),r=n(37627);const t={title:"How to install Gravitino",slug:"/how-to-install",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."},a=void 0,s={id:"how-to-install",title:"How to install Gravitino",description:"Install Gravitino from scratch",source:"@site/versioned_docs/version-0.3.0/how-to-install.md",sourceDirName:".",slug:"/how-to-install",permalink:"/docs/0.3.0/how-to-install",draft:!1,unlisted:!1,editUrl:"https://github.com/datastrato/datastrato.com/edit/master/docs/how-to-install.md",tags:[],version:"0.3.0",frontMatter:{title:"How to install Gravitino",slug:"/how-to-install",license:"Copyright 2023 Datastrato Pvt Ltd. This software is licensed under the Apache License version 2."}},c={},l=[{value:"Install Gravitino from scratch",id:"install-gravitino-from-scratch",level:2},{value:"Get the Gravitino binary distribution package",id:"get-the-gravitino-binary-distribution-package",level:3},{value:"Configure Gravitino server",id:"configure-gravitino-server",level:4},{value:"Configure Gravitino server log",id:"configure-gravitino-server-log",level:4},{value:"Configure Gravitino server environment",id:"configure-gravitino-server-environment",level:4},{value:"Configure Gravitino catalogs",id:"configure-gravitino-catalogs",level:4},{value:"Start Gravitino server",id:"start-gravitino-server",level:4},{value:"Install Gravitino using Docker",id:"install-gravitino-using-docker",level:2},{value:"Get the Gravitino Docker image",id:"get-the-gravitino-docker-image",level:3},{value:"Install Gravitino using Docker compose",id:"install-gravitino-using-docker-compose",level:2}];function d(i){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.a)(),...i.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"install-gravitino-from-scratch",children:"Install Gravitino from scratch"}),"\n",(0,o.jsx)(e.admonition,{type:"note",children:(0,o.jsxs)(e.p,{children:["Gravitino requires JDK8 to run, please make sure you have JDK8 installed and ",(0,o.jsx)(e.code,{children:"JAVA_HOME"}),"\nconfigured correctly. To confirm the Java version, you can simply run ",(0,o.jsx)(e.code,{children:"${JAVA_HOME}/bin/java -version"})," command."]})}),"\n",(0,o.jsx)(e.h3,{id:"get-the-gravitino-binary-distribution-package",children:"Get the Gravitino binary distribution package"}),"\n",(0,o.jsxs)(e.p,{children:["Before installing Gravitino, make sure you have Gravitino binary distribution package. You can\ndownload the latest Gravitino binary distribution Package from ",(0,o.jsx)(e.a,{href:"https://github.com/datastrato/gravitino/releases",children:"GitHub"}),",\nor you can build it yourself by following the instructions in ",(0,o.jsx)(e.a,{href:"/docs/0.3.0/how-to-build",children:"How to Build Gravitino"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:["If you build Gravitino yourself by ",(0,o.jsx)(e.code,{children:"./gradlew compileDistribution"})," command, you can find the\nGravitino binary distribution package in ",(0,o.jsx)(e.code,{children:"distribution/package"})," directory."]}),"\n",(0,o.jsxs)(e.p,{children:["If you build Gravitino yourself by ",(0,o.jsx)(e.code,{children:"./gradlew assembleDistribution"})," command, you can get the\ncompressed Gravitino binary distribution package with name ",(0,o.jsx)(e.code,{children:"gravitino-<version>-bin.tar.gz"})," in\n",(0,o.jsx)(e.code,{children:"distribution"})," directory with sha256 checksum file ",(0,o.jsx)(e.code,{children:"gravitino-<version>-bin.tar.gz.sha256"}),"."]}),"\n",(0,o.jsx)(e.p,{children:"The Gravitino binary distribution package contains the following files:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"|\u2500\u2500 ...\n\u2514\u2500\u2500 distribution/package\n    |\u2500\u2500 bin/gravitino.sh            # Gravitino server Launching scripts.\n    |\u2500\u2500 catalogs\n    |   \u2514\u2500\u2500 hive/                   # Hive catalog dependencies and configurations.\n    |   \u2514\u2500\u2500 lakehouse-iceberg/      # Apache Iceberg catalog dependencies and configurations.\n    |   \u2514\u2500\u2500 jdbc-mysql/             # JDBC MySQL catalog dependencies and configurations.\n    |   \u2514\u2500\u2500 jdbc-postgresql/        # JDBC PostgreSQL catalog dependencies and configurations.\n    |\u2500\u2500 conf/                       # All configuration for Gravitino.\n    |   \u251c\u2500\u2500 gravitino.conf          # Gravitino server configuration.\n    |   \u251c\u2500\u2500 gravitino-env.sh        # Environment variables, etc., JAVA_HOME, GRAVITINO_HOME, and more.\n    |   \u2514\u2500\u2500 log4j2.properties       # log4j configuration for Gravitino server.\n    |\u2500\u2500 libs/                       # Gravitino server dependencies libraries.\n    |\u2500\u2500 logs/                       # Gravitino server logs. Automatically created after the Gravitino server starts.\n    \u2514\u2500\u2500 data/                       # Default directory for Gravitino server to store data.\n"})}),"\n",(0,o.jsx)(e.h4,{id:"configure-gravitino-server",children:"Configure Gravitino server"}),"\n",(0,o.jsxs)(e.p,{children:["The Gravitino server configuration file is ",(0,o.jsx)(e.code,{children:"conf/gravitino.conf"}),". You can configure the Gravitino\nserver by modifying this file. Basic configurations are already added to this file, all the\nconfigurations list in ",(0,o.jsx)(e.a,{href:"/docs/0.3.0/gravitino-server-config",children:"Gravitino Server Configurations"}),"."]}),"\n",(0,o.jsx)(e.h4,{id:"configure-gravitino-server-log",children:"Configure Gravitino server log"}),"\n",(0,o.jsxs)(e.p,{children:["The Gravitino server log configuration file is ",(0,o.jsx)(e.code,{children:"conf/log4j2.properties"}),". Gravitino uses Log4j2 as\nthe Logging system. You can ",(0,o.jsx)(e.a,{href:"https://logging.apache.org/log4j/2.x/",children:"Log4j2"})," to\ndo the log configuration."]}),"\n",(0,o.jsx)(e.h4,{id:"configure-gravitino-server-environment",children:"Configure Gravitino server environment"}),"\n",(0,o.jsxs)(e.p,{children:["The Gravitino server environment configuration file is ",(0,o.jsx)(e.code,{children:"conf/gravitino-env.sh"}),". Gravitino exposes\nseveral environment variables, you can modify this file to reconfigure."]}),"\n",(0,o.jsx)(e.h4,{id:"configure-gravitino-catalogs",children:"Configure Gravitino catalogs"}),"\n",(0,o.jsxs)(e.p,{children:["Gravitino supports multiple catalogs, you can configure the catalog level configurations by\nmodifying the related configuration file in ",(0,o.jsx)(e.code,{children:"catalogs/<catalog-provider>/conf"})," directory. The\nconfigurations you set here apply to all the catalogs of the same type you create."]}),"\n",(0,o.jsxs)(e.p,{children:["For example, if you want to configure the Hive catalog, you can modify the file\n",(0,o.jsx)(e.code,{children:"catalogs/hive/conf/hive.conf"}),". The detailed configurations list in the specific catalog\ndocumentation."]}),"\n",(0,o.jsxs)(e.admonition,{type:"note",children:[(0,o.jsx)(e.p,{children:"Gravitino takes the catalog configurations in the following order:"}),(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["Catalog ",(0,o.jsx)(e.code,{children:"properties"})," specified in catalog creation API or REST API."]}),"\n",(0,o.jsx)(e.li,{children:"Catalog configurations specified in the catalog configuration file."}),"\n"]}),(0,o.jsxs)(e.p,{children:["The catalog ",(0,o.jsx)(e.code,{children:"properties"})," can override the catalog configurations specified in the configuration\nfile."]})]}),"\n",(0,o.jsxs)(e.p,{children:["Gravitino supports pass in catalog specific configurations by adding ",(0,o.jsx)(e.code,{children:"gravitino.bypass."}),". For\nexample, if you want to pass in HMS specific configuration\n",(0,o.jsx)(e.code,{children:"hive.metastore.client.capability.check"})," to the underlying Hive client in Hive catalog, you can\nsimply add ",(0,o.jsx)(e.code,{children:"gravitino.bypass."})," prefix to it."]}),"\n",(0,o.jsxs)(e.p,{children:["Also, Gravitino supports loading catalog specific configurations from external files. For example,\nyou can put your own ",(0,o.jsx)(e.code,{children:"hive-site.xml"})," file in ",(0,o.jsx)(e.code,{children:"catalogs/hive/conf"})," directory, Gravitino loads\nit automatically."]}),"\n",(0,o.jsx)(e.h4,{id:"start-gravitino-server",children:"Start Gravitino server"}),"\n",(0,o.jsx)(e.p,{children:"After configuring the Gravitino server, you can start the Gravitino server by running:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-shell",children:"./bin/gravitino.sh start\n"})}),"\n",(0,o.jsxs)(e.p,{children:["You can access the Gravitino Web UI by typing ",(0,o.jsx)(e.code,{children:"http://localhost:8090"})," in your browser. or you\ncan run"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-shell",children:'curl -v -X GET -H "Accept: application/vnd.gravitino.v1+json" -H "Content-Type: application/json" http://localhost:8090/api/version\n'})}),"\n",(0,o.jsx)(e.p,{children:"to make sure Gravitino is running."}),"\n",(0,o.jsx)(e.admonition,{type:"info",children:(0,o.jsxs)(e.p,{children:["If you need to debug the Gravitino server, enable the ",(0,o.jsx)(e.code,{children:"GRAVITINO_DEBUG_OPTS"})," environment\nvariable in the ",(0,o.jsx)(e.code,{children:"conf/gravitino-env.sh"})," file. Then you can create a ",(0,o.jsx)(e.code,{children:"Remote JVM Debug"}),"\nconfiguration in ",(0,o.jsx)(e.code,{children:"IntelliJ IDEA"})," and debug ",(0,o.jsx)(e.code,{children:"gravitino.server.main"}),"."]})}),"\n",(0,o.jsx)(e.h2,{id:"install-gravitino-using-docker",children:"Install Gravitino using Docker"}),"\n",(0,o.jsx)(e.h3,{id:"get-the-gravitino-docker-image",children:"Get the Gravitino Docker image"}),"\n",(0,o.jsxs)(e.p,{children:["Gravitino publishes the Docker image to ",(0,o.jsx)(e.a,{href:"https://hub.docker.com/r/datastrato/gravitino/tags",children:"Docker Hub"}),".\nYou can run the Gravitino Docker image by:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-shell",children:"docker run -d -i -p 8090:8090 datastrato/gravitino:0.3.0-SNAPSHOT\n"})}),"\n",(0,o.jsxs)(e.p,{children:["You can access the Gravitino Web UI by typing ",(0,o.jsx)(e.code,{children:"http://localhost:8090"})," in your browser. or you\ncan run"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-shell",children:'curl -v -X GET -H "Accept: application/vnd.gravitino.v1+json" -H "Content-Type: application/json" http://localhost:8090/api/version\n'})}),"\n",(0,o.jsx)(e.p,{children:"to make sure Gravitino is running."}),"\n",(0,o.jsx)(e.h2,{id:"install-gravitino-using-docker-compose",children:"Install Gravitino using Docker compose"}),"\n",(0,o.jsx)(e.p,{children:"The published Gravitino Docker image only contains Gravitino server with basic configurations. If\nyou want to experience the whole Gravitino system with other components, you can use the Docker\ncompose file."}),"\n",(0,o.jsxs)(e.p,{children:["For the details, you can review the\n",(0,o.jsx)(e.a,{href:"https://github.com/datastrato/gravitino-playground",children:"Gravitino playground repository"})," and\n",(0,o.jsx)(e.a,{href:"/docs/0.3.0/how-to-use-the-playground",children:"playground example"}),"."]})]})}function h(i={}){const{wrapper:e}={...(0,r.a)(),...i.components};return e?(0,o.jsx)(e,{...i,children:(0,o.jsx)(d,{...i})}):d(i)}},37627:(i,e,n)=>{n.d(e,{Z:()=>s,a:()=>a});var o=n(52983);const r={},t=o.createContext(r);function a(i){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof i?i(e):{...e,...i}}),[e,i])}function s(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(r):i.components||r:a(i.components),o.createElement(t.Provider,{value:e},i.children)}}}]);